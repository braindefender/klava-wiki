# Матрица

Матрица — это способ подключения [свитчей](/hardware/switches.md) к [контроллеру](/hardware/controllers.md).

Матрица состоит из самих свитчей и диодов (не путать со светодиодами).
Диоды в матрице не позволяют току течь в обратном направлении.

В матрице существует определённое направление опроса свитчей, связанное с диодами:
- COL2ROW - питание проходит от колонок к строкам
- ROW2COL — питание проходиит от строк к колонкам

## Принцип работы

> На примере COL2ROW

Контроллер клавиатуры по очереди опрашивает каждую колонку свитчей и проверяет напряжение на строках.
Если в колонке какой-то из свитчей нажат, то на паре (колонка, строка) будет зарегистрировано напряжение.
Если никакие из свитчей не нажаты, то напряжения зарегистрировано не будет.

Таким образом, контроллер понимает какие из свитчей в данный момент нажаты, а какие нет.

> Для направления ROW2COL всё работает точно также, но колонки и строки поменяны местами, а направление и расположение диодов инвертировано.
